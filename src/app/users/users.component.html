<div class="container mt-5">
  
    <h2>List of all users</h2>

    <div class="flex-container">
        <div class="flex-child">
            <div class = "form-group" id="searchbar" style="width:200px !important;">
                <input id="search" type="text" style="font-size:12pt;" class="form-control search field" placeholder="Search Here" [(ngModel)]="searchText">
            </div>
        </div>
    
        <div class="flex-child">
            <button (click)="onGetUsers()">Get Users</button>
        </div>

        <div class="flex-child">
            <button (click)=toggleDisplayDivIf()>Add New User</button>
        </div>
    </div>

    <br>
    
    <div *ngIf="!isShowDivIf">
        <form ngNativeValidate #form >
            <div>
                <label>First Name: </label>
                <input type="text" id="search" placeholder="Toni" pattern="[A-Za-z0-9]{3,}" [(ngModel)]="user.FirstName" [ngModelOptions]="{standalone: true}" required>
            </div>

            <div>
                <label>Last Name: </label>
                <input type="text" id="search" placeholder="Test" pattern="[A-Za-z0-9]{3,}" [(ngModel)]="user.LastName" [ngModelOptions]="{standalone: true}" required>
            </div>

            <div>
                <label>Full Name: </label>
                <input type="text" id="search" placeholder="Toni Test"pattern="[A-Za-z0-9- ]{3,}" [(ngModel)]="user.FullName" [ngModelOptions]="{standalone: true}" required>
            </div>

            <div>
                <label>Email: </label>
                <input type="text" id="search" placeholder="toni@mail.si"pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" [(ngModel)]="user.Email" [ngModelOptions]="{standalone: true}" required>
            </div>

            <div>
                <button (click)="onCreateUser()" name="submit"  type="submit">Add</button>
            </div>
        </form>
    </div>
   
    <br>

    <table class="table table-striped" id="users">
        <thead>
            <tr>
              <th *ngFor="let col of columns">
                  {{col}}
              </th>
            </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users | SearchFilter: searchText">
              <td>{{user.FirstName}}</td>
              <td>{{user.LastName}}</td>
              <td>{{user.FullName}}</td>
              <td>{{user.Email}}</td>
          </tr>
        </tbody>
      </table>
</div>